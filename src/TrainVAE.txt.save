#!/bin/bash -l

#SBATCH -N 1 --ntasks-per-node=6 --partition=gpu
#SBATCH --time=24:00:00  # Increase based on your needs
#SBATCH --gres=gpu:1
#SBATCH --job-name="VAE_train"
#SBATCH --output=/home/dennis00/scRNA_GAN/slurm_archive/%j_BetaVAE_training.out

echo Running
module load cuda/12.1

cd $SLURM_SUBMIT_DIR

cd /home/dennis00/scRNA_GAN/scRNA-GAN/src/

conda activate scRNA-GAN-TF

python3 /home/dennis00/scRNA_GAN/scRNA-GAN/src/betaVAE_training.py --seed 99 --config ../configs/betavae_tissues.json --checkpoint /home/dennis00/scRNA_GAN/checkpoints/betavae_training_tissues/model_dict_best.pt --log 1 --parallel 0

echo betaVAE_training
echo "SLURM Job ID        : ${SLURM_JOB_ID}"
